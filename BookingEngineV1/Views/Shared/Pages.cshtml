<form class="tr" id="pageform" method="get">
    <button name="options.currentPage" value="@(Model.CurrentPage-1)" type="submit">Previous</button>
    @for (int i =1;i<=3 && i <= Model.TotalPages; i++)
    {
        <button name="options.currentPage" value="@i" type="submit">@i</button>

    }
    @if(Model.CurrentPage > 3 && Model.TotalPages - Model.CurrentPage >= 3)
    {
        @:...
        <button>@Model.CurrentPage</button>

    }
    @if (Model.TotalPages > 3)
    {
        @:...
        @for (int i = Math.Max(4, Model.TotalPages -2); i <= Model.TotalPages; i++)
        {
            <button name="options.currentPage" value="@i" type="submit">@i</button>

        }

    }

    <button name="options.currentPage" value="@(Model.CurrentPage +1)" type="submit">Next</button>

    <select name="options.pageSize">
        @foreach (int val in new int[] { 10, 25, 50, 100 })
        {
            <option value="@val" selected="@(Model.PageSize == val)">@val</option>

        }
    </select>
    <input type="hidden" name="options.currentPage" value="1" />
    <button type="submit">Change Page Size</button>
</form>